let d=[],g=(e,n)=>{let t=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},l:n||0,lc:0,listen(o,i){return r.lc=t.push(o,i||r.l)/2,()=>{let s=t.indexOf(o);~s&&(t.splice(s,2),r.lc--,r.lc||r.off())}},notify(o){let i=!d.length;for(let s=0;s<t.length;s+=2)d.push(t[s],r.value,o,t[s+1]);if(i){for(let s=0;s<d.length;s+=4){let l=!1;for(let a=s+7;a<d.length;a+=4)if(d[a]<d[s+3]){l=!0;break}l?d.push(d[s],d[s+1],d[s+2],d[s+3]):d[s](d[s+1],d[s+2])}d.length=0}},off(){},set(o){r.value!==o&&(r.value=o,r.notify())},subscribe(o,i){let s=r.listen(o,i);return o(r.value),s},value:e};return r};let P=(e,n,t,r)=>(e.events=e.events||{},e.events[t+10]||(e.events[t+10]=r(o=>{e.events[t].reduceRight((i,s)=>(s(i),i),{shared:{},...o})})),e.events[t]=e.events[t]||[],e.events[t].push(n),()=>{let o=e.events[t],i=o.indexOf(n);o.splice(i,1),o.length||(delete e.events[t],e.events[t+10](),delete e.events[t+10])}),Y=1e3,C=(e,n)=>P(e,r=>{let o=n(r);o&&e.events[6].push(o)},5,r=>{let o=e.listen;e.listen=(...s)=>(!e.lc&&!e.active&&(e.active=!0,r()),o(...s));let i=e.off;return e.events[6]=[],e.off=()=>{i(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let s of e.events[6])s();e.events[6]=[]}},Y)},()=>{e.listen=o,e.off=i}}),A=e=>e,E={},w={addEventListener(){},removeEventListener(){}};function $(){try{return typeof localStorage<"u"}catch{return!1}}$()&&(E=localStorage);let X={addEventListener(e,n,t){window.addEventListener("storage",n),window.addEventListener("pageshow",t)},removeEventListener(e,n,t){window.removeEventListener("storage",n),window.removeEventListener("pageshow",t)}};typeof window<"u"&&(w=X);function V(e,n=void 0,t={}){let r=t.encode||A,o=t.decode||A,i=g(n),s=i.set;i.set=c=>{typeof c>"u"?delete E[e]:E[e]=r(c),s(c)};function l(c){c.key===e?c.newValue===null?s(void 0):s(o(c.newValue)):E[e]||s(void 0)}function a(){i.set(E[e]?o(E[e]):n)}return C(i,()=>{if(a(),t.listen!==!1)return w.addEventListener(e,l,a),()=>{w.removeEventListener(e,l,a)}}),i}const _=g(!1),D=g(!0),S=g(!1),T=V("sound","true"),k=e=>new Promise(n=>{setTimeout(n,e)});"serviceWorker"in navigator?navigator.serviceWorker.register("/sw.js").then(function(e){console.log("Registrado con exito, el alcance es:",e.scope)}).catch(e=>{console.error(`Error en el registro del trabajador del servicio: ${e}`)}):console.error("Los trabajadores de servicios no reciben apoyo.");const W=async()=>{const e=document.querySelector("#title");if(!e)return;const n="Kiri86";for(let t of n)e.textContent+=t,await k(40);await k(500)};document.addEventListener("DOMContentLoaded",()=>{W()});const b=document.querySelector("#modal-button-sound"),x=document.querySelector("#modal-button-no-sound");b&&x&&(b.addEventListener("click",()=>{T.set("true"),S.set(!0)}),x.addEventListener("click",()=>{T.set("false"),S.set(!0)}));const H=()=>{const e=T.get()==="true",n=document.querySelectorAll(".nav-link");n&&n.forEach(t=>{t.addEventListener("click",()=>{const r=new Audio("/audio/pluck.mp3");e&&r.play(),D.set(!1),_.set(!0)})})};document.addEventListener("DOMContentLoaded",()=>{H()});const B=e=>history.state&&history.replaceState(e,""),N=!!document.startViewTransition,v=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),U=e=>document.dispatchEvent(new Event(e)),O=()=>U("astro:page-load"),y="data-astro-transition-persist";let p=0;history.state?(p=history.state.index,scrollTo({left:history.state.scrollX,top:history.state.scrollY})):v()&&history.replaceState({index:p,scrollX,scrollY},"");const F=(e,n)=>{let t=!1,r=!1;return(...o)=>{if(t){r=!0;return}e(...o),t=!0,setTimeout(()=>{r&&(r=!1,e(...o)),t=!1},n)}};async function Q(e){try{const n=await fetch(e),t=await n.text();return{ok:n.ok,html:t,redirected:n.redirected?n.url:void 0,mediaType:n.headers.get("content-type")?.replace(/;.*$/,"")}}catch{return{ok:!1}}}function q(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function I(){for(const e of document.scripts)e.dataset.astroExec=""}function z(){let e=Promise.resolve();for(const n of Array.from(document.scripts)){if(n.dataset.astroExec==="")continue;const t=document.createElement("script");t.innerHTML=n.innerHTML;for(const r of n.attributes){if(r.name==="src"){const o=new Promise(i=>{t.onload=i});e=e.then(()=>o)}t.setAttribute(r.name,r.value)}t.dataset.astroExec="",n.replaceWith(t)}return e}function G(e){const n=e.effect;return!n||!(n instanceof KeyframeEffect)||!n.target?!1:window.getComputedStyle(n.target,n.pseudoElement).animationIterationCount==="infinite"}const J=new DOMParser;async function R(e,n,t,r){const o=l=>{const a=l.getAttribute(y),c=a&&e.head.querySelector(`[${y}="${a}"]`);if(c)return c;if(l.matches("link[rel=stylesheet]")){const f=l.getAttribute("href");return e.head.querySelector(`link[rel=stylesheet][href="${f}"]`)}if(l.tagName==="SCRIPT"){let f=l;for(const h of e.scripts)if(f.textContent&&f.textContent===h.textContent||f.type===h.type&&f.src===h.src)return h}return null},i=()=>{e.querySelectorAll("head noscript").forEach(u=>u.remove());const l=document.documentElement,a=[...l.attributes].filter(({name:u})=>(l.removeAttribute(u),u.startsWith("data-astro-")));[...e.documentElement.attributes,...a].forEach(({name:u,value:m})=>l.setAttribute(u,m));for(const u of Array.from(document.head.children)){const m=o(u);m?m.remove():u.remove()}document.head.append(...e.head.children);const c=document.body;document.body.replaceWith(e.body);for(const u of c.querySelectorAll(`[${y}]`)){const m=u.getAttribute(y),L=document.querySelector(`[${y}="${m}"]`);L&&L.replaceWith(u)}scrollTo({left:0,top:0,behavior:"instant"});let f=0,h=0;if(!t&&n.hash){const u=decodeURIComponent(n.hash.slice(1)),m=document.getElementById(u);m&&(m.scrollIntoView(),f=Math.max(0,m.offsetLeft+m.offsetWidth-document.documentElement.clientWidth),h=m.offsetTop)}else t&&scrollTo(t.scrollX,t.scrollY);!t&&history.pushState({index:++p,scrollX:f,scrollY:h},"",n.href),U("astro:after-swap")},s=[];for(const l of e.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${y}="${l.getAttribute(y)}"], link[rel=stylesheet]`)){const a=document.createElement("link");a.setAttribute("rel","preload"),a.setAttribute("as","style"),a.setAttribute("href",l.getAttribute("href")),s.push(new Promise(c=>{["load","error"].forEach(f=>a.addEventListener(f,c)),document.head.append(a)}))}if(s.length&&await Promise.all(s),r==="animate"){const l=document.getAnimations();document.documentElement.dataset.astroTransitionFallback="old";const a=document.getAnimations().filter(h=>!l.includes(h)&&!G(h)),c=Promise.all(a.map(h=>h.finished)),f=()=>{i(),document.documentElement.dataset.astroTransitionFallback="new"};await c,f()}else i()}async function M(e,n,t){let r;const o=n.href,{html:i,ok:s,mediaType:l,redirected:a}=await Q(o);if(a&&(n=new URL(a)),!s||!(l==="text/html"||l==="application/xhtml+xml")){location.href=o;return}const c=J.parseFromString(i,l);if(!c.querySelector('[name="astro-view-transitions-enabled"]')){location.href=o;return}!t&&history.replaceState({index:p,scrollX,scrollY},""),document.documentElement.dataset.astroTransition=e,N?r=document.startViewTransition(()=>R(c,n,t)).finished:r=R(c,n,t,q());try{await r}finally{await z(),I(),O()}}function Z(e){if(document.querySelector(`link[rel=prefetch][href="${e}"]`))return;if(navigator.connection){let t=navigator.connection;if(t.saveData||/(2|3)g/.test(t.effectiveType||""))return}let n=document.createElement("link");n.setAttribute("rel","prefetch"),n.setAttribute("href",e),document.head.append(n)}if(N||q()!=="none"){I(),document.addEventListener("click",n=>{let t=n.target;if(t instanceof Element&&t.tagName!=="A"&&(t=t.closest("a")),!(!t||!(t instanceof HTMLAnchorElement)||t.dataset.astroReload!==void 0||t.hasAttribute("download")||!t.href||t.target&&t.target!=="_self"||t.origin!==location.origin||n.button!==0||n.metaKey||n.ctrlKey||n.altKey||n.shiftKey||n.defaultPrevented||!v())){if(location.pathname===t.pathname&&location.search===t.search){if(t.hash)return;if(n.preventDefault(),location.hash){history.replaceState({index:p,scrollX,scrollY:-(scrollY+1)},"");const r={index:++p,scrollX:0,scrollY:0};history.pushState(r,"",t.href)}scrollTo({left:0,top:0,behavior:"instant"});return}n.preventDefault(),M("forward",new URL(t.href))}}),addEventListener("popstate",n=>{if(!v()&&n.state){history.scrollRestoration&&(history.scrollRestoration="manual"),location.reload();return}if(n.state===null){history.scrollRestoration&&(history.scrollRestoration="auto");return}history.scrollRestoration&&(history.scrollRestoration="manual");const t=history.state,r=t.index,o=r>p?"forward":"back";p=r,t.scrollY<0?scrollTo(t.scrollX,-(t.scrollY+1)):M(o,new URL(location.href),t)}),["mouseenter","touchstart","focus"].forEach(n=>{document.addEventListener(n,t=>{if(t.target instanceof HTMLAnchorElement){let r=t.target;r.origin===location.origin&&r.pathname!==location.pathname&&v()&&Z(r.pathname)}},{passive:!0,capture:!0})}),addEventListener("load",O);const e=()=>{B({...history.state,scrollX,scrollY})};"onscrollend"in window?addEventListener("scrollend",e):addEventListener("scroll",F(e,300))}export{S as a,k as b,D as c,_ as i,T as s};
